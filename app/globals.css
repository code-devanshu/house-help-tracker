@import "tailwindcss";

/* =========================
   PRINT STYLES (EXPORT)
   ========================= */
@media print {
  /* Hide everything by default */
  body * {
    visibility: hidden !important;
  }

  /* Show only export preview */
  .print-area,
  .print-area * {
    visibility: visible !important;
  }

  /* Position print area at top-left */
  .print-area {
    position: absolute;
    inset: 0;
    margin: 0;
    padding: 0;
    width: 100%;
  }

  /* Remove borders/shadows for clean paper look */
  .print-area,
  .print-area * {
    box-shadow: none !important;
  }

  /* Page setup */
  @page {
    size: A4;
    margin: 16mm;
  }

  /* Typography tweaks for print */
  .print-area {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
      Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, sans-serif;
    color: #000;
  }

  /* Table tweaks */
  .print-area table {
    border-collapse: collapse;
    width: 100%;
  }

  .print-area th,
  .print-area td {
    border: 1px solid #ccc;
  }

  .print-area thead {
    display: table-header-group; /* repeat header on page break */
  }

  /* Hide print button itself */
  .print-area button {
    display: none !important;
  }
}

.break-inside-avoid {
  break-inside: avoid;
  page-break-inside: avoid;
}

/* =========================
   PDF EXPORT SAFE COLORS
   Fixes html2canvas "lab/oklch" parsing errors
   ========================= */
.pdf-exporting .print-area,
.pdf-exporting .print-area * {
  /* Force simple colors */
  color: #0f172a !important; /* slate-900-ish */
  background-color: #ffffff !important;
  border-color: #cbd5e1 !important; /* slate-300 */

  /* Kill ring/shadow vars that Tailwind may set using oklch/lab */
  --tw-ring-color: rgba(15, 23, 42, 0.15) !important;
  --tw-ring-offset-color: #ffffff !important;
  --tw-shadow-color: transparent !important;
  --tw-shadow: 0 0 #0000 !important;
}

/* Keep table borders clean in export */
.pdf-exporting .print-area table,
.pdf-exporting .print-area th,
.pdf-exporting .print-area td {
  border-color: #cbd5e1 !important;
}

/* Hide UI controls when exporting */
.pdf-exporting .no-export {
  display: none !important;
}

/* Remove scroll clipping inside export */
.pdf-exporting .print-area .overflow-auto {
  overflow: visible !important;
}

/* Optional: make export look “paper-like” */
.pdf-exporting .print-area {
  border-radius: 0 !important;
}

/* Prevent row splits in print/pdf */
.break-inside-avoid {
  break-inside: avoid;
  page-break-inside: avoid;
}

/* During canvas export, use short pill labels to avoid font-metric overflow */
.pdf-exporting .export-status-long {
  display: none !important;
}
.pdf-exporting .export-status-short {
  display: inline !important;
}
